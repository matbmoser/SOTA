Starting Server Log Messages...
[INFO]: You are [www-data]
[INFO]: Trying to start server...
[STATS]: [1] elements inserted in [0:00:00.008083] DBManager.operationQuery()
[INFO]: Server [9585522c44e2] added into DB!
[INFO]: NEW SERVER CREATED!: serverid=[9585522c44e2], ip=[127.0.0.1], port=[4082], poll_interval=[0.5]. [Server [9585522c44e2] in socket [0.0.0.0:4082] status [RUNNING] in thread: [9585522c44e2]].
[INFO]: Server is Opened in Background
[DEBUG]: [NEW] RAW Connection Data Received: [GET / HTTP/1.1
Host: 127.0.0.1:4082
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36
Upgrade: websocket
Origin: http://localhost:3333
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: es-ES,es;q=0.9
Sec-WebSocket-Key: 4k2cI9qtfbLoiiCkzoMNIg==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
Sec-WebSocket-Protocol: SJMP, %7B'clt-time'%3A%20'1651842217913'%2C%20'cameraid'%3A%20'6a96de9a-5a83-4072-be58-f13df4e9ab2f'%2C%20'flag'%3A%20'SYN'%2C%20'type'%3A%20'BOTH'%7D

]
[DEBUG]: Incoming [camera.WebSocketSJMPCamera.WebSocketSJMPCamera] Protocol Connection...
[DEBUG]: Camera [6a96de9a-5a83-4072-be58-f13df4e9ab2f], status [ONLINE] on [172.23.0.1:57634] logged in with sessionid = [d579c2fa9bb8363e3c49277a8b199f18] protocol [<class 'protocols.WebSocketSJMPProtocol.WebSocketSJMPProtocol'>] type [BOTH] 
[DEBUG]: [9585522c44e2]-[0.0.0.0:4082] BaseRequestHandler.setup().
[DEBUG]: [9585522c44e2]-[0.0.0.0:4082] > Received one request from 6a96de9a-5a83-4072-be58-f13df4e9ab2f
[STATS]: Messages Processed: nmessages=[1];duration=[0:00:00.000382]
[DEBUG]: WebSocketMessage.getHeaders(): Incomming WS Message type [text].
[DEBUG]: WebSocketMessage.parseMessage(): WS Payload received LEN = [113]
[DEBUG]: {'id': 1, 'matricula': '1605-LDJ', 'numAparcamientos': 0, 'ultimoAparcamiento': None, 'idTipoVehiculo': 3, 'idUsuario': 1, 'created_at': datetime.datetime(2022, 5, 6, 12, 55, 58), 'updated_at': datetime.datetime(2022, 5, 6, 12, 55, 58)}
[DEBUG]: {'id': 1, 'matricula': '1605-LDJ', 'numAparcamientos': 0, 'ultimoAparcamiento': None, 'idTipoVehiculo': 3, 'idUsuario': 1, 'created_at': datetime.datetime(2022, 5, 6, 12, 55, 58), 'updated_at': datetime.datetime(2022, 5, 6, 12, 55, 58)}
[STATS]: [1] elements update in [0:00:00.007751] DBManager.operationQuery()
[STATS]: [1] elements inserted in [0:00:00.005374] DBManager.operationQuery()
[STATS]: Messages Processed: nmessages=[1];duration=[0:00:00.210883]
[DEBUG]: WebSocketMessage.getHeaders(): Incomming WS Message type [text].
[DEBUG]: WebSocketMessage.parseMessage(): WS Payload received LEN = [114]
[DEBUG]: {'id': 1, 'matricula': '1605-LDJ', 'numAparcamientos': 1, 'ultimoAparcamiento': datetime.datetime(2022, 5, 6, 13, 3, 51), 'idTipoVehiculo': 3, 'idUsuario': 1, 'created_at': datetime.datetime(2022, 5, 6, 12, 55, 58), 'updated_at': datetime.datetime(2022, 5, 6, 12, 55, 58)}
[DEBUG]: {'id': 1, 'matricula': '1605-LDJ', 'numAparcamientos': 1, 'ultimoAparcamiento': datetime.datetime(2022, 5, 6, 13, 3, 51), 'idTipoVehiculo': 3, 'idUsuario': 1, 'created_at': datetime.datetime(2022, 5, 6, 12, 55, 58), 'updated_at': datetime.datetime(2022, 5, 6, 12, 55, 58)}
[DEBUG]: {'id': 19, 'fechaEntrada': datetime.datetime(2022, 5, 6, 13, 3, 51), 'fechaSalida': None, 'valido': 1, 'incidencia': 0, 'idZona': 9, 'idVehiculo': 1, 'token': '97d22b4b5cb7a090a1b1b4a724c646568992dd8c47f38717521ee331e3e4c98238b976f60475b251378114f679a8822290f4726201cb4410ca180c03df685ce9', 'created_at': datetime.datetime(2022, 5, 6, 13, 3, 51), 'updated_at': datetime.datetime(2022, 5, 6, 13, 3, 51)}
[DEBUG]: {'id': 9, 'letra': 'I', 'plazas': 23, 'idTipoPlaza': 1, 'idAparcamiento': 1, 'created_at': datetime.datetime(2022, 5, 6, 12, 55, 57), 'updated_at': datetime.datetime(2022, 5, 6, 12, 55, 57)}
[STATS]: [1] elements update in [0:00:00.016182] DBManager.operationQuery()
[STATS]: Messages Processed: nmessages=[1];duration=[0:00:00.135303]
[DEBUG]: [NEW] RAW Connection Data Received: [{"flag": "SYN", "clt-time": 1651842422.206816, "cameraid": "dd17b745-e56d-4fcd-b8a6-a8400080408c", "token": "-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2pX9MR5w1WcN72IvEhYy\nwAg04JX0pPKBK0DB8RVcs+QIZtyTC/0vVcNlKUGzVbA0+s1UF3e2iFbq6q1en9Ad\ntLL3ssqBAneop0rClu8bBnoQyHMq/MTZePWH9j+9/cRt4v+ONjgI1aZznxP75z8l\nz5Nj2aNRhHbORMwh27Q83YT0Qt0u48OXrUBsK36PqwxbU/BdeekSjW2Jad2/j9jO\nYDK8rLiBP8QYcMBxtzR1wGtWTtxjPyK7NDOiWIHi1DoJLPlYZrppda3I7pvEdkAN\npjS38h7RgF7Zamu/+G1Y7+VjfCcRDWySXaux4TWmp9wT0nBr8i8NtLqddi/zyk92\njQIDAQAB\n-----END PUBLIC KEY-----\n", "type": "BOTH"}]
[DEBUG]: Incoming [camera.TCPSJMPCamera.TCPSJMPCamera] Protocol Connection...
[DEBUG]: Camera [dd17b745-e56d-4fcd-b8a6-a8400080408c], status [ONLINE] on [127.0.0.1:57760] logged in with sessionid = [84ebba7308543e49b95d96c404bcaaf5] protocol [<class 'protocols.TCPSJMPProtocol.TCPSJMPProtocol'>] type [BOTH] 
[DEBUG]: [9585522c44e2]-[0.0.0.0:4082] BaseRequestHandler.setup().
[DEBUG]: [9585522c44e2]-[0.0.0.0:4082] > Received one request from dd17b745-e56d-4fcd-b8a6-a8400080408c
[ERROR]: Was not posible to add camera [dd17b745-e56d-4fcd-b8a6-a8400080408c] in DB!
[STATS]: Messages Processed: nmessages=[1];duration=[0:00:00.095485]
[DEBUG]: {'id': 1, 'matricula': '1605-LDJ', 'numAparcamientos': 1, 'ultimoAparcamiento': datetime.datetime(2022, 5, 6, 13, 3, 51), 'idTipoVehiculo': 3, 'idUsuario': 1, 'created_at': datetime.datetime(2022, 5, 6, 12, 55, 58), 'updated_at': datetime.datetime(2022, 5, 6, 12, 55, 58)}
[DEBUG]: {'id': 1, 'matricula': '1605-LDJ', 'numAparcamientos': 1, 'ultimoAparcamiento': datetime.datetime(2022, 5, 6, 13, 3, 51), 'idTipoVehiculo': 3, 'idUsuario': 1, 'created_at': datetime.datetime(2022, 5, 6, 12, 55, 58), 'updated_at': datetime.datetime(2022, 5, 6, 12, 55, 58)}
[DEBUG]: {'id': 19, 'fechaEntrada': datetime.datetime(2022, 5, 6, 13, 3, 51), 'fechaSalida': datetime.datetime(2022, 5, 6, 13, 4, 11), 'valido': 0, 'incidencia': 0, 'idZona': 9, 'idVehiculo': 1, 'token': '97d22b4b5cb7a090a1b1b4a724c646568992dd8c47f38717521ee331e3e4c98238b976f60475b251378114f679a8822290f4726201cb4410ca180c03df685ce9', 'created_at': datetime.datetime(2022, 5, 6, 13, 3, 51), 'updated_at': datetime.datetime(2022, 5, 6, 13, 4, 11)}
[DEBUG]: {'id': 9, 'letra': 'I', 'plazas': 23, 'idTipoPlaza': 1, 'idAparcamiento': 1, 'created_at': datetime.datetime(2022, 5, 6, 12, 55, 57), 'updated_at': datetime.datetime(2022, 5, 6, 12, 55, 57)}
[INFO]: SJMPHandler.processINFlag(matricula=[1605-LDJ]) Deleting old ticket from vehicle with plate [1605-LDJ], ticketToken=[97d22b4b5cb7a090a1b1b4a724c646568992dd8c47f38717521ee331e3e4c98238b976f60475b251378114f679a8822290f4726201cb4410ca180c03df685ce9] oldPlaza=[I19] 
[STATS]: [1] elements deleted in [0:00:00.011662] DBManager.operationQuery()
[STATS]: [1] elements update in [0:00:00.006339] DBManager.operationQuery()
[STATS]: [1] elements inserted in [0:00:00.035456] DBManager.operationQuery()
[STATS]: Messages Processed: nmessages=[1];duration=[0:00:00.360786]
[DEBUG]: {'id': 1, 'matricula': '1605-LDJ', 'numAparcamientos': 2, 'ultimoAparcamiento': datetime.datetime(2022, 5, 6, 13, 7, 45), 'idTipoVehiculo': 3, 'idUsuario': 1, 'created_at': datetime.datetime(2022, 5, 6, 12, 55, 58), 'updated_at': datetime.datetime(2022, 5, 6, 12, 55, 58)}
[DEBUG]: {'id': 1, 'matricula': '1605-LDJ', 'numAparcamientos': 2, 'ultimoAparcamiento': datetime.datetime(2022, 5, 6, 13, 7, 45), 'idTipoVehiculo': 3, 'idUsuario': 1, 'created_at': datetime.datetime(2022, 5, 6, 12, 55, 58), 'updated_at': datetime.datetime(2022, 5, 6, 12, 55, 58)}
[DEBUG]: {'id': 5, 'fechaEntrada': datetime.datetime(2022, 5, 6, 13, 7, 45), 'fechaSalida': None, 'valido': 1, 'incidencia': 0, 'idZona': 9, 'idVehiculo': 1, 'token': '0efebe4055672b56f8e68509504183304d73e234c93578272863591a5faf7efc8f194af48d51dae252a97570b3d3618188d6a830c14e5734250dfa14f9826d3e', 'created_at': datetime.datetime(2022, 5, 6, 13, 7, 45), 'updated_at': datetime.datetime(2022, 5, 6, 13, 7, 45)}
[DEBUG]: {'id': 9, 'letra': 'I', 'plazas': 23, 'idTipoPlaza': 1, 'idAparcamiento': 1, 'created_at': datetime.datetime(2022, 5, 6, 12, 55, 57), 'updated_at': datetime.datetime(2022, 5, 6, 12, 55, 57)}
[STATS]: [1] elements update in [0:00:00.107063] DBManager.operationQuery()
[STATS]: Messages Processed: nmessages=[1];duration=[0:00:00.258227]
[EXCEPTION]:[list index out of range]. in SJMPHandler(). On processPacket()
[STATS]: Messages Processed: nmessages=[1];duration=[0:00:00.148683]
[DEBUG]: WebSocketMessage.getHeaders(): Incomming WS Message type [text].
[DEBUG]: WebSocketMessage.parseMessage(): WS Payload received LEN = [113]
[EXCEPTION]:[list index out of range]. in SJMPHandler(). On processPacket()
[STATS]: Messages Processed: nmessages=[1];duration=[0:00:00.047537]
[DEBUG]: WebSocketMessage.getHeaders(): Incomming WS Message type [close].
[DEBUG]: WebSocketMessage.parseMessage(): WS Payload received LEN = [2]
[INFO]: Connection with [6a96de9a-5a83-4072-be58-f13df4e9ab2f] is Closed
[WARNING]: Something went wrong! BaseCamera.addInputBuffer()
[CRITICAL]: Was not posible to process rawdata. BaseProtocol.loadRequest()
[STATS]: Messages Processed: nmessages=[1];duration=[0:00:00.070083]
[DEBUG]: [NEW] RAW Connection Data Received: [GET / HTTP/1.1
Host: 127.0.0.1:4082
Connection: Upgrade
Pragma: no-cache
Cache-Control: no-cache
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36
Upgrade: websocket
Origin: http://localhost:3333
Sec-WebSocket-Version: 13
Accept-Encoding: gzip, deflate, br
Accept-Language: es-ES,es;q=0.9
Sec-WebSocket-Key: 9sX3gIcL/D5Y8mVhgiUY7g==
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
Sec-WebSocket-Protocol: SJMP, %7B'clt-time'%3A%20'1651843167515'%2C%20'cameraid'%3A%20'6a96de9a-5a83-4072-be58-f13df4e9ab2f'%2C%20'flag'%3A%20'SYN'%2C%20'type'%3A%20'BOTH'%7D

]
[DEBUG]: Incoming [camera.WebSocketSJMPCamera.WebSocketSJMPCamera] Protocol Connection...
[DEBUG]: Camera [6a96de9a-5a83-4072-be58-f13df4e9ab2f], status [ONLINE] on [172.23.0.1:57978] logged in with sessionid = [0d1a2362964f3a59e2ec052f050bf022] protocol [<class 'protocols.WebSocketSJMPProtocol.WebSocketSJMPProtocol'>] type [BOTH] 
[DEBUG]: [9585522c44e2]-[0.0.0.0:4082] BaseRequestHandler.setup().
[DEBUG]: [9585522c44e2]-[0.0.0.0:4082] > Received one request from 6a96de9a-5a83-4072-be58-f13df4e9ab2f
[STATS]: Messages Processed: nmessages=[1];duration=[0:00:00.002728]
[DEBUG]: WebSocketMessage.getHeaders(): Incomming WS Message type [close].
[DEBUG]: WebSocketMessage.parseMessage(): WS Payload received LEN = [0]
[INFO]: Connection with [6a96de9a-5a83-4072-be58-f13df4e9ab2f] is Closed
[WARNING]: Something went wrong! BaseCamera.addInputBuffer()
[CRITICAL]: Was not posible to process rawdata. BaseProtocol.loadRequest()
[STATS]: Messages Processed: nmessages=[1];duration=[0:00:00.026888]
